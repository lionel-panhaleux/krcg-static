const icon_map = {
    "aus": "a",
    "obe": "b",
    "cel": "c",
    "dom": "d",
    "dem": "e",
    "for": "f",
    "san": "g",
    "thn": "h",
    "ani": "i",
    "pro": "j",
    "chi": "k",
    "val": "l",
    "mel": "m",
    "nec": "n",
    "obf": "o",
    "pot": "p",
    "qui": "q",
    "pre": "r",
    "ser": "s",
    "tha": "t",
    "vis": "u",
    "vic": "v",
    "abo": "w",
    "myt": "x",
    "dai": "y",
    "spi": "z",
    "AUS": "A",
    "OBE": "B",
    "CEL": "C",
    "DOM": "D",
    "DEM": "E",
    "FOR": "F",
    "SAN": "G",
    "THN": "H",
    "ANI": "I",
    "PRO": "J",
    "CHI": "K",
    "VAL": "L",
    "MEL": "M",
    "NEC": "N",
    "OBF": "O",
    "POT": "P",
    "QUI": "Q",
    "PRE": "R",
    "SER": "S",
    "THA": "T",
    "VIS": "U",
    "VIC": "V",
    "ABO": "W",
    "MYT": "X",
    "DAI": "Y",
    "SPI": "Z",
    "tem": "?",
    "TEM": "!",
    "str": "&agrave;",
    "STR": "&aacute;",
    "obt": "$",
    "OBT": "£",
    "mal": "&acirc;",
    "MAL": "&atilde;",
    "conviction": "¤",
    "action": "0",
    "political": "2",
    "politics": "2",
    "politic": "2",
    "political action": "2",
    "reaction": "7",
    "react": "7",
    "action modifier": "1",
    "modifier": "1",
    "mod": "1",
    "combat": "4",
    "reflex": "6",
    "flight": "^",
    "merged": "µ ",
    "merge": "µ ",
    "advanced": "|",
    "advance": "|",
    "adv": "|",
    "event": "[",
    "power": "§",
    "innocence": "#",
    "inn": "#",
    "defense": "@",
    "def": "@",
    "martyrdom": "&amp;",
    "mar": "&amp;",
    "justice": "%",
    "jus": "%",
    "vengeance": "(",
    "ven": "(",
    "vision": ")",
    "vin": ")",
    "redemption": "*",
    "red": "*",
    "1 blood": " &#39;",
    "1 b": " &#39;",
    "1b": " &#39;",
    "2 blood": ";",
    "2 b": ";",
    "2b": ";",
    "3 blood": ".",
    "3 b": ".",
    "3b": ".",
    "4 blood": ",",
    "4 b": ",",
    "4b": ",",
    "x blood": "-",
    "x b": "-",
    "xb": "-",
    "X blood": "-",
    "X b": "-",
    "Xb": "-",
    "pool": "&brvbar;",
    "1 pool": "&quot;",
    "1 p": "&quot;",
    "1p": "&quot;",
    "2 pool": ":",
    "2 p": ":",
    "2p": ":",
    "3 pool": "/",
    "3 p": "/",
    "3p": "/",
    "4 pool": "\\",
    "4 p": "\\",
    "4p": "\\",
    "5 pool": "]",
    "5 p": "]",
    "5p": "]",
    "6 pool": "`",
    "6 p": "`",
    "6p": "`",
    "x pool": "_",
    "x p": "_",
    "xp": "_",
    "X pool": "_",
    "X p": "_",
    "X P": "_",
    "Xp": "_",
    "XP": "_",
}

const clan_map = {
    "abomination": "A",
    "abominations": "A",
    "abo": "A",
    "ahrimane": "B",
    "ahrimanes": "B",
    "akunanse": "C",
    "assamite": "n",
    "avenger": "1",
    "baali": "E",
    "banu haqim": "n",
    "banu": "n",
    "haqim": "n",
    "blood brother": "F",
    "blood brothers": "F",
    "brujah": "o",
    "brujah antitribu": "H",
    "!brujah": "H",
    "caitiff": "I",
    "daughter of cacophony": "J",
    "daughters of cacophony": "J",
    "daughter": "J",
    "daughters": "J",
    "defender": "2",
    "follower of set": "r",
    "followers": "r",
    "fos": "r",
    "followers of set": "r",
    "gangrel": "p",
    "gangrel antitribu": "M",
    "!gangrel": "M",
    "gargoyle": "N",
    "giovanni": "O",
    "giov": "O",
    "guruhi": "P",
    "harbinger of skulls": "Q",
    "harbinger": "Q",
    "hos": "Q",
    "innocent": "3",
    "ishtarri": "R",
    "ishtar": "R",
    "judge,": "4",
    "kiasyd": "S",
    "lasombra": "w",
    "malkavian": "q",
    "malkavien": "q",
    "malk": "q",
    "malkavian antitribu": "V",
    "malkavian anti": "V",
    "malkavien antitribu": "V",
    "malkavien anti": "V",
    "!malkavian": "V",
    "!malkavien": "V",
    "!malk": "V",
    "martyr": "5",
    "ministry": "r",
    "nagaraja": "W",
    "naga": "W",
    "nosferatu": "s",
    "nosfe": "s",
    "nosferatu antitribu": "Y",
    "nosferatu anti": "Y",
    "nosfe antitribu": "Y",
    "nosfe anti": "Y",
    "!nosferatu": "Y",
    "!nosfe": "Y",
    "osebo": "Z",
    "pander": "a",
    "ravnos": "b",
    "redeemer": "6",
    "salubri": "c",
    "salu": "c",
    "salubri antitribu": "d",
    "salu antitribu": "d",
    "!salubri": "d",
    "!salu": "d",
    "samedi": "e",
    "toreador": "t",
    "toréador": "t",
    "toré": "t",
    "tore": "t",
    "toreador antitribu": "g",
    "toreador anti": "g",
    "toréador antitribu": "g",
    "toréador anti": "g",
    "toré antitribu": "g",
    "toré anti": "g",
    "tore antitribu": "g",
    "tore anti": "g",
    "!toreador": "g",
    "!tore": "g",
    "!toréador": "g",
    "!toré": "g",
    "tremere": "u",
    "tremere antitribu": "i",
    "tremere anti": "i",
    "!tremere": "i",
    "true brujah": "j",
    "tzimisce": "k",
    "ventrue": "v",
    "ventrue antitribu": "m",
    "ventrue anti": "m",
    "!ventrue": "m",
    "visionary": "7",
}

function krcgBlogger() {
    // modify all spans with the "courier" font
    for (elem of document.querySelectorAll('span[style="font-family: courier;"]')) {
        const category = elem.textContent.split(":", 1)[0]
        const value = elem.textContent.slice(category.length + 1).trim()
        switch (category) {
            case "disc":
            case "discipline":
            case "icon":
                elem.removeAttribute("style")
                elem.setAttribute("class", "krcg-icon")
                elem.textContent = icon_map[value]
                break
            case "clan":
                elem.removeAttribute("style")
                elem.setAttribute("class", "krcg-clan")
                elem.textContent = clan_map[value.toLowerCase()]
                break
            case "card":
                elem.removeAttribute("style")
                elem.setAttribute("class", "krcg-card")
                elem.textContent = value
                break
        }
    }
}

window.addEventListener("load", (e) => krcgBlogger())
